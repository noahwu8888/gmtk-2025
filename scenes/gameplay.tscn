[gd_scene load_steps=9 format=3 uid="uid://t6jjkf7w2aip"]

[ext_resource type="Script" path="res://scripts/world.gd" id="1_ctvyo"]
[ext_resource type="PackedScene" uid="uid://bbkdkp0428yji" path="res://prefabs/player.tscn" id="2_qixtg"]
[ext_resource type="Script" uid="uid://boimiilxj3n2b" path="res://addons/cameraregion2d/CameraRegionController2D.gd" id="3_nt65e"]
[ext_resource type="PackedScene" uid="uid://dktcdyv405i1p" path="res://prefabs/loop_bar.tscn" id="4_bhmdk"]
[ext_resource type="Script" uid="uid://dc1got8i8eqpe" path="res://scripts/level_manager.gd" id="5_s5y6v"]
[ext_resource type="AudioStream" uid="uid://ds60orcmyyfsw" path="res://assets/sfx/kick.ogg" id="8_e124b"]
[ext_resource type="Script" uid="uid://5vpj6ph24507" path="res://scripts/fx/fx.gd" id="10_mesn4"]
[ext_resource type="AudioStream" uid="uid://dhhlxrdkb8gx" path="res://assets/sfx/crash.ogg" id="11_525vb"]

[node name="Gameplay" type="Node"]

[node name="World" type="Node2D" parent="."]
script = ExtResource("1_ctvyo")

[node name="Player" parent="World" instance=ExtResource("2_qixtg")]
position = Vector2(384, 2176)
coyote_time = null
enabled = null

[node name="CameraRegionController2D" type="Node2D" parent="World" node_paths=PackedStringArray("camera", "target_node")]
script = ExtResource("3_nt65e")
camera = NodePath("../Camera2D")
target_node = NodePath("../Player")
metadata/_custom_type_script = "uid://boimiilxj3n2b"

[node name="Camera2D" type="Camera2D" parent="World"]
zoom = Vector2(0.05, 0.05)

[node name="LoopBar" parent="World" instance=ExtResource("4_bhmdk")]

[node name="LevelManager" type="Node" parent="." node_paths=PackedStringArray("camera_region_controller", "loop_bar", "player", "world", "trans_color_rect", "load_fx", "metronome_sfx")]
script = ExtResource("5_s5y6v")
min_transition_duration = 2.0
camera_region_controller = NodePath("../World/CameraRegionController2D")
loop_bar = NodePath("../World/LoopBar")
player = NodePath("../World/Player")
world = NodePath("../World")
trans_color_rect = NodePath("CanvasLayer/TransColorRect")
load_fx = NodePath("LoadFX")
metronome_sfx = NodePath("Metronome")

[node name="CanvasLayer" type="CanvasLayer" parent="LevelManager"]

[node name="TransColorRect" type="ColorRect" parent="LevelManager/CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
metadata/_edit_use_anchors_ = true

[node name="LoadFX" type="Node2D" parent="LevelManager"]
script = ExtResource("10_mesn4")
metadata/_custom_type_script = "uid://5vpj6ph24507"

[node name="Crash" type="AudioStreamPlayer" parent="LevelManager/LoadFX"]
stream = ExtResource("11_525vb")

[node name="Metronome" type="AudioStreamPlayer" parent="LevelManager"]
stream = ExtResource("8_e124b")
